(function(e){function t(t){for(var s,l,o=t[0],r=t[1],c=t[2],d=0,h=[];d<o.length;d++)l=o[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&h.push(i[l][0]),i[l]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);u&&u(t);while(h.length)h.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,o=1;o<n.length;o++){var r=n[o];0!==i[r]&&(s=!1)}s&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var s={},i={app:0},a=[];function l(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=s,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)l.d(n,s,function(t){return e[t]}.bind(null,s));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/patatonik/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=r;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0542":function(e,t,n){},1738:function(e,t,n){e.exports=n.p+"img/PATATONIK.26140932.png"},"20ae":function(e,t,n){},"2c15":function(e,t,n){"use strict";n("9f01")},4790:function(e,t,n){"use strict";n("d02a")},5311:function(e,t,n){"use strict";n("8936")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view",{on:{install:e.installPWA}})],1)},a=[],l={data:function(){return{deferredPrompt:null}},created:function(){var e=this;window.addEventListener("beforeinstallprompt",(function(t){t.preventDefault,e.deferredPrompt=t})),window.addEventListener("appinstalled",(function(){e.deferredPrompt=null}))},methods:{installPWA:function(){this.deferredPrompt.prompt()}}},o=l,r=(n("5c0b"),n("2877")),c=Object(r["a"])(o,i,a,!1,null,null,null),u=c.exports,d=n("0086"),h=n.n(d),p=n("9483");Object(p["a"])("".concat("/patatonik/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var f=n("8c4f"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"about"}},[n("transition",{attrs:{name:"fade",mode:"in-out"}},[e.connectionFailed?e._e():n("div",{staticClass:"connecting"},[n("loading-spinner"),n("p",{staticClass:"connection-text"},[e._v("Collegamento in corso...")])],1)]),n("transition",{attrs:{name:"fade",mode:"in-out"}},[n("div",{staticClass:"retry-connecting"},[n("button",{staticClass:"btn btn--danger",on:{click:e.tryConnecting}},[e._v("Riprova")]),n("button",{on:{click:function(t){return e.router.push({name:"MotionControllerPage"})}}},[e._v(" Vai oltre ")])])])],1)},v=[],m=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},_=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pl"},[n("div",{staticClass:"pl__ball"},[n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"})]),n("div",{staticClass:"pl__ball"},[n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"})]),n("div",{staticClass:"pl__ball"},[n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"})]),n("div",{staticClass:"pl__ball"},[n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"}),n("div",{staticClass:"pl__ball-seg"})])])}],b={name:"LoadingSpinner"},C=b,w=(n("729a"),Object(r["a"])(C,m,_,!1,null,"e600ab02",null)),y=w.exports,D={name:"App",components:{LoadingSpinner:y},data:function(){return{router:be,timeout:null,connection:null,connectionFailed:!1}},mounted:function(){this.tryConnecting()},methods:{expireConnection:function(){this.connectionFailed=!0},tryConnecting:function(){this.connectionFailed=!1,this.timeout=setTimeout(this.expireConnection,2e3)}}},k=D,T=(n("2c15"),Object(r["a"])(k,g,v,!1,null,"634c51ac",null)),E=T.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"touch",rawName:"v-touch:start",value:e.onTouchStart,expression:"onTouchStart",arg:"start"},{name:"touch",rawName:"v-touch:moving",value:e.onTouchMoving,expression:"onTouchMoving",arg:"moving"},{name:"touch",rawName:"v-touch:end",value:e.onTouchEnd,expression:"onTouchEnd",arg:"end"}],ref:"app",attrs:{id:"motion-controller"}},[n("wheel",{attrs:{rotation:e.wheelRotation}}),n("slider",{attrs:{translation:e.sliderTranslation}}),n("rotation-display",{attrs:{position:"13% auto auto 34%"}},[n("p",[e._v(e._s(e.horizontalDegrees+"°"))])]),n("rotation-display",{attrs:{position:"auto auto 13% 25%"}},[n("p",[e._v(e._s(e.verticalDegrees+"°"))])])],1)},O=[],x=(n("b680"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wheel"},[s("img",{staticClass:"wheel__background",attrs:{src:n("e315"),alt:""}}),s("div",{staticClass:"wheel__rotatable"},[s("img",{ref:"rotatable",staticClass:"rotatable",attrs:{src:n("66e6"),alt:""}})])])}),j=[],S=(n("a9e3"),{name:"Wheel",props:{rotation:Number},watch:{rotation:function(e){this.$refs.rotatable.style.transform="rotate("+e+"deg)"}}}),R=S,$=(n("89ad"),Object(r["a"])(R,x,j,!1,null,"ee60c4e2",null)),A=$.exports,M=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"slider"},[s("img",{staticClass:"slider__track",attrs:{src:n("5e5f")}}),s("div",{ref:"slidable",staticClass:"slider__knob"},[s("img",{attrs:{src:n("e78e"),alt:""}})])])},W=[],Y={name:"Slider",props:{translation:Number},watch:{translation:function(e){this.$refs.slidable.style.transform="translateY("+e+"%)"}}},F=Y,B=(n("b095"),Object(r["a"])(F,M,W,!1,null,"f62b0244",null)),N=B.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rotation-display",style:e.getInsetCssPosition},[e._t("default")],2)},I=[],X={name:"RotationDisplay",props:{position:String},computed:{getInsetCssPosition:function(){return"inset: "+this.position}}},q=X,L=(n("e670"),Object(r["a"])(q,z,I,!1,null,"06123f68",null)),H=L.exports,G=n("d4ec"),J=n("bee2"),K=(n("caad"),n("2532"),n("ade3")),Q=function(){function e(t){Object(G["a"])(this,e),Object(K["a"])(this,"oldDegrees",0),Object(K["a"])(this,"degrees",0),this.element=t,this.center=this.calcCenter()}return Object(J["a"])(e,[{key:"calcCenter",value:function(){var e=this.element.getBoundingClientRect().top,t=this.element.getBoundingClientRect().left,n=this.element.offsetHeight,s=this.element.offsetWidth;return{X:t+s/2,Y:e+n/2}}},{key:"setInitialOffsetAngle",value:function(e){this.oldDegrees=this.getDegrees(e)}},{key:"getDegreeChange",value:function(e){this.degrees=this.getDegrees(e);var t=this.getDeltaDegrees();return this.oldDegrees=this.degrees,t}},{key:"getDegrees",value:function(e){var t=this.center.Y-e.clientY,n=this.center.X-e.clientX;return Math.atan2(t,n)*(180/Math.PI)+180}},{key:"getDeltaDegrees",value:function(){return this.degrees-this.oldDegrees>-200?this.degrees-this.oldDegrees<200?this.degrees-this.oldDegrees:this.degrees-(this.oldDegrees+360):this.degrees+360-this.oldDegrees}}]),e}(),V=function(){function e(t){Object(G["a"])(this,e),this.element=t.parentElement,this.center=this.calcCenter(),this.childDimensions=this.getDimensions(t),this.parentDimensions=this.getDimensions(this.element)}return Object(J["a"])(e,[{key:"calcCenter",value:function(){var e=this.element.getBoundingClientRect().top,t=this.element.getBoundingClientRect().left,n=this.element.offsetHeight,s=this.element.offsetWidth;return{X:t+s/2,Y:e+n/2}}},{key:"getDimensions",value:function(e){return{height:e.offsetHeight,width:e.offsetWidth}}},{key:"getYPositionChange",value:function(e){var t=this.getYDistanceFromCenter(e)/2;return this.getYTranslation(t)}},{key:"getYDistanceFromCenter",value:function(e){return e.clientY-this.center.Y}},{key:"getYTranslation",value:function(e){var t,n;return e<0&&(n=-this.parentDimensions.height/2+this.childDimensions.height,t=e>n?e:n),e>0&&(n=this.parentDimensions.height/2-this.childDimensions.height,t=e<n?e:n),t}}]),e}(),U=function(){function e(t,n,s){Object(G["a"])(this,e),this.app=t,this.sliderElement=n,this.wheelElement=s,this.wheelController=new Q(this.wheelElement.querySelector(".rotatable")),this.sliderController=new V(this.sliderElement.querySelector(".slider__knob"))}return Object(J["a"])(e,[{key:"onTouchStart",value:function(e){if(e.path.includes(this.wheelElement))for(var t=0;t<e.changedTouches.length;t++)e.touches[t].clientX>this.app.offsetWidth/2&&this.wheelController.setInitialOffsetAngle(e.changedTouches[t])}},{key:"onTouchMoving",value:function(e){if(e.path.includes(this.wheelElement))for(var t=0;t<e.changedTouches.length;t++)if(e.touches[t].clientX>this.app.offsetWidth/2)return{wheelChangeDegrees:this.wheelController.getDegreeChange(e.changedTouches[t])};if(e.path.includes(this.sliderElement))for(var n=0;n<e.changedTouches.length;n++)if(e.touches[n].clientX<this.app.offsetWidth/2)return{sliderTranslation:this.sliderController.getYPositionChange(e.changedTouches[n])}}},{key:"onTouchEnd",value:function(e){if(e.path.includes(this.sliderElement))for(var t=0;t<e.changedTouches.length;t++)if(e.changedTouches[t].clientX<this.app.offsetWidth/2)return{sliderTranslation:0}}}]),e}(),Z={name:"App",components:{Wheel:A,Slider:N,RotationDisplay:H},data:function(){return{wheelRotation:0,sliderTranslation:0,touchEventRouter:null}},computed:{horizontalDegrees:function(){return(this.wheelRotation/10).toFixed()},verticalDegrees:function(){return-1*this.sliderTranslation.toFixed()}},mounted:function(){var e=this.$refs.app.querySelector("div.wheel"),t=this.$refs.app.querySelector("div.slider");this.touchEventRouter=new U(this.$refs.app,t,e)},methods:{onTouchStart:function(e){this.touchEventRouter.onTouchStart(e)},onTouchMoving:function(e){var t=this.touchEventRouter.onTouchMoving(e);t.wheelChangeDegrees&&(this.horizontalDegrees<=0&&t.wheelChangeDegrees<0?this.wheelRotation=0:this.horizontalDegrees>=180&&t.wheelChangeDegrees>0?this.wheelRotation=1800:this.wheelRotation+=t.wheelChangeDegrees),t.sliderTranslation&&(this.sliderTranslation=t.sliderTranslation)},onTouchEnd:function(e){var t=this.touchEventRouter.onTouchEnd(e);t&&(this.sliderTranslation=t.sliderTranslation)}}},ee=Z,te=(n("73f2"),Object(r["a"])(ee,P,O,!1,null,null,null)),ne=te.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e._m(0),n("h1",{staticClass:"text"},[e._v(' Fai click su "installa" per aggiungere l\'app alla schermata Home ')]),n("button",{staticClass:"btn btn--danger",on:{click:function(t){return e.$emit("install")}}},[e._v(" In"),n("span",{staticClass:"text-red"},[e._v("stalla")])])])},ie=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"brand"},[s("img",{staticClass:"logo",attrs:{src:n("1738"),alt:""}})])}],ae={name:"BrowserPage"},le=ae,oe=(n("5311"),Object(r["a"])(le,se,ie,!1,null,"39939b2a",null)),re=oe.exports,ce=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ue=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("header",{staticClass:"header"},[s("nav",{staticClass:"nav"},[s("div",{staticClass:"brand"},[s("img",{staticClass:"logo",attrs:{src:n("73b5"),alt:""}})]),s("a",{staticClass:"nav-link",attrs:{href:"https://github.com/StefanoDeCapitani/patatonik"}},[e._v(" Github Repo ")])])]),s("div",{staticClass:"main"},[s("div",{staticClass:"content"},[s("div",{staticClass:"brand"},[s("img",{staticClass:"logo",attrs:{src:n("1738"),alt:""}})]),s("h1",{staticClass:"title"},[e._v("PATATONIK - Mobile Progressive Web App")]),s("p",{staticClass:"text"},[e._v(" Questa app, attualmente in fase di sviluppo, permetterà di comandare a distanza tramite smartphone il puntamento e lo sparo di un piccolo cannone per palline di mais stampato in 3D. "),s("br"),s("span",{staticClass:"small"},[e._v(" Per chi fosse interessato a replicare il progetto, presto saranno disponibili il modello stampabile del cannone e la documentazione necessaria per comprendere il funzionamento del codice, il quale è già disponibile nella repository di Github. ")])])]),s("div",{staticClass:"attribution"},[e._v(" Progetto di: Stefano De Capitani e Luca Barzani. "),s("div",{staticClass:"right"},[e._v("Patatonik - 2021")])])])])}],de={name:"DesktopPage"},he=de,pe=(n("4790"),Object(r["a"])(he,ce,ue,!1,null,"5df42600",null)),fe=pe.exports;n("d3b7"),n("ac1f"),n("466d"),n("2ca0");function ge(){var e=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];return e.some((function(e){return navigator.userAgent.match(e)}))}function ve(){var e=window.matchMedia("(display-mode: fullscreen)").matches;return!!document.referrer.startsWith("android-app://")||!!(document.webkitfullscreenelement||document.fullscreenelement||e)}s["a"].use(f["a"]);var me=[{path:"/",name:"ConnectionPage",component:E,beforeEnter:function(e,t,n){ge()&&ve()?n():n("/add-to-home")}},{path:"/motion-controller",name:"MotionControllerPage",component:ne,beforeEnter:function(e,t,n){ge()&&ve()?n():n("/add-to-home")}},{path:"/add-to-home",name:"BrowserPage",component:re,beforeEnter:function(e,t,n){ge()?n():n("/desktop")}},{path:"/desktop",name:"DesktopPage",component:fe,beforeEnter:function(e,t,n){ge()?n("/add-to-page"):n()}}],_e=new f["a"]({mode:"hash",base:"/patatonik/",routes:me}),be=_e;s["a"].use(h.a),s["a"].config.productionTip=!1,new s["a"]({router:be,render:function(e){return e(u)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"5e5f":function(e,t,n){e.exports=n.p+"img/slider-track.75990edd.svg"},"66e6":function(e,t,n){e.exports=n.p+"img/wheel.8d1a2d76.svg"},"729a":function(e,t,n){"use strict";n("e6ae")},"73b5":function(e,t,n){e.exports=n.p+"img/patatina-logo.4f83a1e3.png"},"73f2":function(e,t,n){"use strict";n("806c")},"806c":function(e,t,n){},8936:function(e,t,n){},"89ad":function(e,t,n){"use strict";n("e139")},"9c0c":function(e,t,n){},"9f01":function(e,t,n){},b095:function(e,t,n){"use strict";n("20ae")},d02a:function(e,t,n){},e139:function(e,t,n){},e315:function(e,t,n){e.exports=n.p+"img/wheel-background.9ea3adeb.svg"},e670:function(e,t,n){"use strict";n("0542")},e6ae:function(e,t,n){},e78e:function(e,t,n){e.exports=n.p+"img/slider-knob.f11ebfb4.svg"}});
//# sourceMappingURL=app.d84d1500.js.map